<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Swift OpenGL Tutorials</title>
        <meta name="charset" content="utf8">
        <meta name="description" content="Sequential app targets for learning OpenGL with Swift">
        <meta name="keywords" content="Swift, OpenGL, tutorial, macOS, OS X, Apple, Xcode, app development">
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oxygen:400,700">
    </head>
    <body>
        <header id="header_container">
            <div class="top_buffer"></div>
            <div id="nav_container">
                <div class="nav_side_buffer"></div>
                <div id="main_nav">
                    <img src="SwiftOpenGL Logo.png" alt="SwiftOpenGLTutorials Logo"/>
                    <div style="flex:1 1 0;"></div>
                    <ul id="nav_items">
                        <li class="nav_item"><a href="tutorials.html">Tutorials</a></li>
                        <li class="nav_item"><a href="https://github.com/00buggy00/SwiftOpenGLTutorials">GitHub Repository</a></li>
                    </ul>
                </div>
                <div class="nav_side_buffer"></div>
            </div>
            <div class="top_buffer"></div>
        </header>
        <div id="scroll_container">
            <div class="offset_y"></div>
            <section id="section_container">
                <div id="main_content">
                  <div class="top_buffer"></div>
                  <article id="article_container">
                      <div class="side_buffer"></div>
                      <div id="article">
                        <h1>Create the View</h1>
                        <hr>
                        <p>Now that you have a working Xcode project, we can set up the app for displaying some OpenGL content.  Cocoa apps are built using a number of windows and views.  A single window contains one base view--the content view.  It is the content view that holds subsequent views such as buttons, labels, text fields, etc.  Notice that every part of the user interface is at it's heart, a view.</p>
                        <p>To insert a view into the app that will display our OpenGL content, we need to do two things:  1) use interface builder to insert an NSOpenGLView object into the app's window's content view, and 2) create a subclass of NSOpenGLView.</p>
                        <h2>Interface Builder</h2>
                        <img id="article_img" src="PageImages/Go to the storyboard.png" alt="Go to the storyboard"/>
                        <p>To get to Interface Builder, click on Main.storyboard in the Project Navigator (if you can't see it press &#x2318 1 to show the Navigator view or &#x21e7&#x2318 Space to search the project for Main.storyboard).  The Editor view in the center of the project, will display a white background or it might show some windows.  To see everything currently built into the UI, click on the Document Outline button at the bottom left of the Editor view.</p>
                        <img id="article_img" src="PageImages/Document Outline.png" alt="Document Outline"/>
                        <p>This shows you a tree hierarchy of the objects being used to make the UI.  Click on View Controller Scene in the Document Outline.  You'll see two objects drop down in the list:  View Controller and First Responder.  Click on the toggle arrow next to View Controller.  This View Controller is used to control the actions and initiation of view updates according to user interaction.  The View Controller controls a view--the one you see drop down when you click on the toggle arrow.  This is the content view two which we will add our customized OpenGL View.</p>
                        <p>Open the Utilities Panel by clicking on the right most button at the top of the Xcode window (as shown below), or press &#x2325 &#x2318 0 on the keyboard.</p>
                        <img id="article_img" src="PageImages/Utilities Panel.png" alt="Utilities Panel"/>
                        <p>In the Utilities Panel, locate the Object Library in the bottom portion of the panel.  Find the NSOpenGLView Object by scrolling through the objects, or by searching for it in the search field at the bottom of the Object Library.</p>
                        <img id="article_img" src="PageImages/NSOpenGLView Object.png" alt="NSOpenGLView Object"/>
                        <p>Drag and drop this into the are that says View Controller, or drop it directly into the View in the Document Outline.  Dropping directly in the Document Outline objects allows for more specific control of where you object is going.  As you develop your UI, this fine control becomes more important so you are not adding a child view to the wrong parent view.</p>
                        <img id="article_img" src="PageImages/Drop into the View Controller in the Editor View.png" alt="Drop into the View Controller in the Editor View"/>
                        <div style="height:10px;"></div>
                        <img id="article_img" src="PageImages/Drop onto the view.png" alt="Drop onto the view"/>
                        <p>We want our view to fill the window and to resize with the window when we click on the window edges.  If you want to see what I mean, leave out this step until after we have finished our custom view subclass.  You'll see that there will be a black box that does not adjust with window resizing.  Adding constraints makes the view stay stuck to the boundaries you specify.  We want the view to fill the window, for now, so we will specify 0 in the top, bottom, left and right fields.  I suggest clicking in the top field and entering 0 then pressing Tab to go to the next field and simultaneous activating the constraint.  By activating, I mean clicking on the red bar that is between the input field and a white box such that it becomes a bold red bar.  When you use tab to go from field to field, these bars will automatically activate if you have placed in a new value.  Lately, click on the the drop down next to Update Frames and select Items of New Constraints to make the frame of the view stretch to accommodate the size of the window.  An alternate method is to just click Apply Constraints at the bottom without this step and then make sure the view you added is selected before clicking on the Resolve Autolayout Issues button next to the Pin button.  Then click on Update Frames under the Selected Views heading.  Either way, you'll see the view stretch out to the size of the parent view's frame.</p>
                        <img id="article_img" src="PageImages/Click on the Pin button at the bottom right of the editor.png" alt="Click on the Pin button at the bottom right of the editor"/>
                        <p>Now we're going to do a little coding.  The NSOpenGLView that we put into our interface is an instance of NSOpenGLView.  There are a few customization options available in the Utilities Panel under the Attributes Inspector, but they don't offer the customization that we want for this project.</p>
                        <img id="article_img" src="PageImages/Attributes Inspector.png" alt="Attributes Inspector"/>
                        <p>Instead, we are going to make this view a custom subclass of NSOpenGLView.  Create a new file by clicking <i>File</i> \ <i>New File</i> at the top left of the screen, or &#x2318 N on the keyboard.  Under OS X, select Cocoa Class and click Next.</p>
                        <img id="article_img" src="PageImages/Cocoa Class.png" alt="Cocoa Class"/>
                        <p>On the next screen, type SwiftOpenGLView into the Class field, set the Subclass of to NSOpenGLView, and set the Language to Swift.  Click Next.</p>
                        <img id="article_img" src="PageImages/SwiftOpenGLView Naming.png" alt="SwiftOpenGLView Naming"/>
                        <p>Choose a location to save the file.  Make sure you are in the SwiftOpenGL project folder.  We're going to be adding a number of new Schemes to the project as we go on (and we'll talk about what those are later), so make sure the SwiftOpenGL folder is selected and then create a new folder by clicking on the New Folder button in the bottom left of the menu screen.  Name this folder Beginnings (I called it Begin in my project as an accident that I never fixed).  You can name it what you like, really, but it'll help you know what I am talking about if you use the same names for now.  Next, make sure the App target is selected (We're going to be deleting the Test Target as we don't need it right now).  When you're done, click Create.</p>
                        <img id="article_img" src="PageImages/Saving SwiftOpenGLView.png" alt="Saving SwiftOpenGLView"/>
                        <p>You might have noticed I have some additional targets, files, and a Group called Begin shown here.  This is a project I have been working on for a little while so it has some stuff that we will be building together.  Think of it as a sneak peak.</p>
                        <h2>SwiftOpenGLView.swift</h2>
                        <p>You should see the new file opened in the Editor view, but if you don't, you may select it in the Project Navigator, or by searching for it with &#x2325 &#x2318 O.  I have added some extra annotation to the class to make it more self explanatory.</p>
                        <div id="code_block">
                          <div id="scrollable_code">

                              <pre style="background:yellow;margin:0;">
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//  SwiftOpenGLView.swift</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//  SwiftOpenGLView</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//  This is the first iteration of the SwiftOpenGLView class.  It starts a CVDisplayLink</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//  and draws a black background.</code>
                                <code style="color: #008400; font-family: menlo; font-size: 11px;">//</code>
                              </pre>
                             
                          </div>
                        </div>
                      </div>
                      <div class="side_buffer"></div>
                  </article>
                  <div class="bottom_buffer"></div>
                </div>
            </section>
            <footer id="footer_container">
              <div class="side_buffer"></div>
              <div id="footer_sitemap">
                <div id="footer_links"></div>
                <div style="display:flex;height:17px;">
                  <div class="side_buffer"></div>
                  <span>&copy; 2016 00buggy00 on GitHub.com</span>
                  <div class="side_buffer"></div>
                </div>
                <div style="height:10px;"></div>
              </div>
              <div class="side_buffer"></div>
            </footer>
        </div>
    </body>
</html>
